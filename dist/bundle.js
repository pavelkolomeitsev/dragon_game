(()=>{"use strict";var t,e={913:(t,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.gameConfig=void 0;var n=o(789),r=o(369),s=o(18),i=o(695),c=o(593);e.gameConfig={type:Phaser.AUTO,physics:{default:"arcade",arcade:{debug:!1}},width:c.BrowserResolution.WIDTH,height:c.BrowserResolution.HEIGHT,scene:[new r.BootScene,new s.PreloadScene,new n.StartScene,new i.GameScene]}},418:function(t,e){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Boom=void 0;var r=function(t){function e(e,o,n){var r=t.call(this,e,o.x,o.y,n)||this;return r.scene=e,r.init(),r.boomAnimation(),r}return n(e,t),e.prototype.init=function(){this.scene.add.existing(this)},e.prototype.boomAnimation=function(){var t=this,e=this.scene.anims.generateFrameNames("boom",{prefix:"boom",start:1,end:4});this.scene.anims.create({key:"boom-anim",frames:e,frameRate:10,repeat:0}),this.play("boom-anim"),this.once(Phaser.Animations.Events.ANIMATION_COMPLETE,(function(){return t.destroy()}))},e.generateBoom=function(t,o){new e(t,{x:o.x,y:o.y},"boom")},e}(Phaser.GameObjects.Sprite);e.Boom=r},771:function(t,e,o){var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0}),e.Bullet=void 0;var s=o(335),i=o(593),c=function(t){function e(e,o){var n=t.call(this,e,o,"bullet")||this;return n.scene=e,n.init(),n}return r(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.scene.events.on("update",this.update,this)},e.prototype.update=function(){this.active&&this.body.x<-150&&this.setAlive(!1)},e.generateBullet=function(t,o){return new e(t,{x:o.x-45,y:o.y+10})},e.prototype.move=function(){this.body.setVelocityX(2*-i.ENEMY_SPEED)},e.prototype.reset=function(t){this.x=t.x-45,this.y=t.y+10,this.setAlive(!0)},e}(s.FlyingObject);e.Bullet=c},676:function(t,e,o){var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0}),e.Bullets=void 0;var s=o(771),i=function(t){function e(e,o){var n=t.call(this,e,o)||this;return n.scene=o,n}return r(e,t),e.prototype.createBullet=function(t){var e=this.getFirstDead();e?e.reset(t):(e=s.Bullet.generateBullet(this.scene,t),this.add(e)),e.move()},e}(Phaser.Physics.Arcade.Group);e.Bullets=i},724:function(t,e,o){var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0}),e.Dragon=void 0;var s=o(335),i=o(49),c=o(593),a=o(593),l=function(t){function e(e,o,n,r){var s=t.call(this,e,o,"dragon",n)||this;return s.scene=e,s._cursors=r,s.init(),s.dragonFlyAnimation(),s}return r(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.fires=new i.Fires(this.scene.physics.world,this.scene)},e.prototype.move=function(){var t,e,o,n,r,s;if(this.body.setVelocityX(0),this.body.setVelocityY(0),null===(t=this._cursors)||void 0===t?void 0:t.left.isDown){if(this.body.x<0)return;this.body.setVelocityX(-a.DRAGON_SPEED)}else if(null===(e=this._cursors)||void 0===e?void 0:e.right.isDown){if(this.body.x>c.BrowserResolution.WIDTH-160)return;this.body.setVelocityX(a.DRAGON_SPEED)}if(null===(o=this._cursors)||void 0===o?void 0:o.down.isDown){if(this.body.y>c.BrowserResolution.HEIGHT-120)return;this.body.setVelocityY(a.DRAGON_SPEED)}else if(null===(n=this._cursors)||void 0===n?void 0:n.up.isDown){if(this.body.y<0)return;this.body.setVelocityY(-a.DRAGON_SPEED)}(null===(r=this._cursors)||void 0===r?void 0:r.space.isDown)&&this.fire(),(null===(s=this._cursors)||void 0===s?void 0:s.shift.isDown)&&console.log("Shift key is pressed!")},e.prototype.fire=function(){var t;null===(t=this.fires)||void 0===t||t.createFire(this)},e.prototype.dragonFlyAnimation=function(){var t=this.scene.anims.generateFrameNames("dragon",{prefix:"dragon",start:1,end:6});this.scene.anims.create({key:"fly",frames:t,frameRate:10,repeat:-1}),this.play("fly")},e}(s.FlyingObject);e.Dragon=l},533:function(t,e,o){var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0}),e.Enemies=void 0;var s=o(931),i=o(593),c=o(676),a=function(t){function e(e,o){var n=t.call(this,e,o)||this;return n._createdEnemies=0,n._killedEnemies=0,n.scene=o,n.bullets=new c.Bullets(n.scene.physics.world,n.scene),n._timer=n.scene.time.addEvent({delay:1e3,loop:!0,callback:n.tick,callbackScope:n}),n}return r(e,t),e.prototype.createEnemies=function(){var t=this.getFirstDead();t?t.reset():((t=s.Enemy.generateEnemy(this.scene,this.bullets)).on("object_killed",this.onEnemyKilled,this),this.add(t)),t.move(),++this._createdEnemies},e.prototype.onEnemyKilled=function(){++this._killedEnemies,this._killedEnemies>=i.ENEMIES_AMOUNT&&this.scene.events.emit("enemies_killed")},e.prototype.tick=function(){var t;this._createdEnemies<i.ENEMIES_AMOUNT?this.createEnemies():null===(t=this._timer)||void 0===t||t.remove()},e}(Phaser.Physics.Arcade.Group);e.Enemies=a},931:function(t,e,o){var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0}),e.Enemy=void 0;var s=o(335),i=o(593),c=o(593),a=function(t){function e(e,o,n,r){var s=t.call(this,e,o,"enemy",n)||this;return s.scene=e,s._bullets=r,s.init(),s._timer=s.scene.time.addEvent({delay:2e3,loop:!0,callback:s.shoot,callbackScope:s}),s}return r(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.scene.events.on("update",this.update,this)},e.generateAttributes=function(){return{position:{x:c.BrowserResolution.WIDTH+100,y:Phaser.Math.Between(60,680)},type:"enemy"+Phaser.Math.Between(1,4)}},e.generateEnemy=function(t,o){var n=e.generateAttributes();return new e(t,n.position,n.type,o)},e.prototype.move=function(){this.body.setVelocityX(-i.ENEMY_SPEED)},e.prototype.update=function(){this.active&&this.body.x<-150&&this.setAlive(!1)},e.prototype.reset=function(){var t=e.generateAttributes(),o=t.position,n=t.type;this.x=o.x,this.y=o.y,this.setFrame(n),this.setAlive(!0)},e.prototype.shoot=function(){var t;null===(t=this._bullets)||void 0===t||t.createBullet(this)},e.prototype.setAlive=function(e){t.prototype.setAlive.call(this,e),this._timer&&(this._timer.paused=!e)},e}(s.FlyingObject);e.Enemy=a},540:function(t,e,o){var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0}),e.Fire=void 0;var s=o(335),i=o(593),c=function(t){function e(e,o){var n=t.call(this,e,o,"fire")||this;return n.scene=e,n.init(),n}return r(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.scene.events.on("update",this.update,this)},e.prototype.update=function(){this.active&&(this.body.x<-150||this.body.x>i.BrowserResolution.WIDTH+100)&&this.setAlive(!1)},e.generateFire=function(t,o){return new e(t,{x:o.x+75,y:o.y+15})},e.prototype.move=function(){this.body.setVelocityX(2*i.ENEMY_SPEED)},e.prototype.reset=function(t){this.x=t.x+75,this.y=t.y+15,this.setAlive(!0)},e}(s.FlyingObject);e.Fire=c},49:function(t,e,o){var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0}),e.Fires=void 0;var s=o(540),i=function(t){function e(e,o){var n=t.call(this,e,o)||this;return n._nextShoot=0,n.scene=o,n}return r(e,t),e.prototype.createFire=function(t){if(!(this._nextShoot>this.scene.time.now)){var e=this.getFirstDead();e?e.reset(t):(e=s.Fire.generateFire(this.scene,t),this.add(e)),e.move(),this._nextShoot=this.scene.time.now+500}},e}(Phaser.Physics.Arcade.Group);e.Fires=i},335:function(t,e){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.FlyingObject=void 0;var r=function(t){function e(e,o,n,r){var s=t.call(this,e,o.x,o.y,n,r)||this;return s.scene=e,s.init(),s}return n(e,t),e.prototype.init=function(){this.scene.add.existing(this),this.scene.physics.add.existing(this),this.body.enable=!0},e.prototype.setAlive=function(t){this.body.enable=t,this.setVisible(t),this.setActive(t),t||this.emit("object_killed")},e}(Phaser.GameObjects.Sprite);e.FlyingObject=r},369:function(t,e){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.BootScene=void 0;var r=function(t){function e(){return t.call(this,{key:"boot-scene"})||this}return n(e,t),e.prototype.preload=function(){this.load.image("bg","assets/images/background.png")},e.prototype.create=function(){this.scene.start("preload-scene")},e}(Phaser.Scene);e.BootScene=r},695:function(t,e,o){var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0}),e.GameScene=void 0;var s=o(418),i=o(724),c=o(533),a=o(593),l=function(t){function e(){var e=t.call(this,{key:"game-scene"})||this;return e._score=0,e}return r(e,t),e.prototype.init=function(){this.cursors=this.input.keyboard.createCursorKeys(),this._score=0},e.prototype.create=function(){this.createBackground(),this._sounds||this.createSounds(),this._dragon=new i.Dragon(this,a.DragonStartPosition,a.FlyingType[0],this.cursors),this._enemies=new c.Enemies(this.physics.world,this),this.createCompleteEvents(),this.addOverlap(),this.showScore()},e.prototype.createCompleteEvents=function(){this._dragon.once("object_killed",this.onComplete,this),this.events.once("enemies_killed",this.onComplete,this)},e.prototype.onComplete=function(){this.scene.start("start-scene",{continue_game:!0,score:this._score,user_wins:this._dragon.active})},e.prototype.addOverlap=function(){var t;this.physics.add.overlap(null===(t=this._dragon)||void 0===t?void 0:t.fires,this._enemies,this.onOverlapFiresEnemies,void 0,this),this.physics.add.overlap(this._enemies.bullets,this._dragon,this.onOverlapBulletsDragon,void 0,this),this.physics.add.overlap(this._dragon,this._enemies,this.onOverlapDragonEnemies,void 0,this)},e.prototype.onOverlapFiresEnemies=function(t,e){var o,n;++this._score,null===(o=this._scoreText)||void 0===o||o.setText("Score: "+this._score),s.Boom.generateBoom(this,e),null===(n=this._sounds)||void 0===n||n.boom.play(),t.setAlive(!1),e.setAlive(!1)},e.prototype.onOverlapBulletsDragon=function(t,e){t.setAlive(!1),e.setAlive(!1)},e.prototype.onOverlapDragonEnemies=function(t,e){var o;s.Boom.generateBoom(this,e),null===(o=this._sounds)||void 0===o||o.boom.play(),t.setAlive(!1),e.setAlive(!1)},e.prototype.createBackground=function(){this._bg=this.add.tileSprite(0,0,a.BrowserResolution.WIDTH,a.BrowserResolution.HEIGHT,"bg").setOrigin(0,0)},e.prototype.createSounds=function(){this._sounds={theme:this.sound.add("theme",{volume:.4,loop:!0}),boom:this.sound.add("boom",{volume:.3})},this._sounds.theme.play()},e.prototype.update=function(){var t;null===(t=this._dragon)||void 0===t||t.move(),this._bg&&(this._bg.tilePositionX+=2)},e.prototype.showScore=function(){this._scoreText=this.add.text(30,30,"Score: "+this._score,{fontFamily:"CurseCasual",fontSize:"40px",color:"#E62B0D",stroke:"#000000",strokeThickness:1})},e}(Phaser.Scene);e.GameScene=l},18:function(t,e,o){var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0}),e.PreloadScene=void 0;var s=o(593),i=function(t){function e(){return t.call(this,{key:"preload-scene"})||this}return r(e,t),e.prototype.preload=function(){this.add.sprite(0,0,"bg").setOrigin(0,0),new s.LoadingBar(this),this.preloadAssets()},e.prototype.preloadAssets=function(){this.load.atlas("dragon","assets/images/dragon.png","assets/images/dragon.json"),this.load.atlas("enemy","assets/images/enemy.png","assets/images/enemy.json"),this.load.atlas("boom","assets/images/boom.png","assets/images/boom.json"),this.load.image("fire","assets/images/fire.png"),this.load.image("bullet","assets/images/bullet.png"),this.load.audio("theme","assets/sounds/theme.mp3"),this.load.audio("boom","assets/sounds/boom.mp3")},e.prototype.create=function(){this.scene.start("start-scene")},e}(Phaser.Scene);e.PreloadScene=i},789:function(t,e,o){var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0}),e.StartScene=void 0;var s=o(593),i=function(t){function e(){return t.call(this,{key:"start-scene"})||this}return r(e,t),e.prototype.create=function(t){this.createBackground(),t.continue_game&&this.showPopup(t),this.createText()},e.prototype.createBackground=function(){this.add.sprite(0,0,"bg").setOrigin(0,0)},e.prototype.createText=function(){var t=this,e=this.add.text(s.BrowserResolution.WIDTH/2,s.BrowserResolution.HEIGHT/2+150,"Tap to start",{fontFamily:"CurseCasual",fontSize:"60px",color:"#E62B0D",stroke:"#000000",strokeThickness:3}).setOrigin(.5);e.setInteractive({useHandCursor:!0}),e.on("pointerdown",(function(){return t.showGameScene()}))},e.prototype.showGameScene=function(){this.scene.start("game-scene")},e.prototype.showPopup=function(t){this.add.graphics().fillStyle(0,.5).fillRoundedRect(s.BrowserResolution.WIDTH/2-210,s.BrowserResolution.HEIGHT/2-200,420,300,16);var e=t.user_wins?"Level completed!":"Game over!",o="";o="You`ve killed "+(o=t.score>1?t.score+" enemies":t.score+" enemy"),this.add.text(s.BrowserResolution.WIDTH/2,s.BrowserResolution.HEIGHT/2-100,e,{fontFamily:"CurseCasual",fontSize:"55px",color:"#E62B0D",stroke:"#000000",strokeThickness:3}).setOrigin(.5),this.add.text(s.BrowserResolution.WIDTH/2,s.BrowserResolution.HEIGHT/2,o,{fontFamily:"CurseCasual",fontSize:"40px",color:"#E62B0D",stroke:"#000000",strokeThickness:3}).setOrigin(.5)},e}(Phaser.Scene);e.StartScene=i},593:(t,e)=>{var o;Object.defineProperty(e,"__esModule",{value:!0}),e.LoadingBar=e.ENEMIES_AMOUNT=e.ENEMY_SPEED=e.DRAGON_SPEED=e.FlyingType=e.DragonStartPosition=e.BrowserResolution=void 0,function(t){t[t.WIDTH=1536]="WIDTH",t[t.HEIGHT=726]="HEIGHT"}(o=e.BrowserResolution||(e.BrowserResolution={})),e.DragonStartPosition={x:150,y:o.HEIGHT/2},e.FlyingType={0:"dragon1",1:"enemy1",2:"enemy2",3:"enemy3",4:"enemy4"},e.DRAGON_SPEED=500,e.ENEMY_SPEED=250,e.ENEMIES_AMOUNT=10;var n=function(){function t(t){this.scene=t,this.style={boxColor:13882323,barColor:16775388,x:o.WIDTH/2-450,y:o.HEIGHT/2+250,width:900,height:25},this.progressBox=new Phaser.GameObjects.Graphics(this.scene),this.progressBox=this.scene.add.graphics(),this.progressBar=this.scene.add.graphics(),this.showProgressBox(),this.setEvents()}return t.prototype.setEvents=function(){this.scene.load.on("progress",this.showProgressBar,this),this.scene.load.on("complete",this.onLoadComplete,this)},t.prototype.showProgressBox=function(){this.progressBox.fillStyle(this.style.boxColor).fillRect(this.style.x,this.style.y,this.style.width,this.style.height)},t.prototype.showProgressBar=function(t){this.progressBar.clear().fillStyle(this.style.barColor).fillRect(this.style.x,this.style.y,this.style.width*t,this.style.height)},t.prototype.onLoadComplete=function(){this.progressBox.destroy(),this.progressBar.destroy()},t}();e.LoadingBar=n}},o={};t=function t(n){var r=o[n];if(void 0!==r)return r.exports;var s=o[n]={exports:{}};return e[n].call(s.exports,s,s.exports,t),s.exports}(913),new Phaser.Game(t.gameConfig)})();